# FA (Full Adder) 全加器模組

本資料夾包含全加器（Full Adder）的 VHDL 設計實作，提供一位元及三位元全加器的完整解決方案，適合數位邏輯學習與實際應用。

---

## 元件說明

### 1. FA（一位元全加器）

**檔案位置：** `FA_3bit.vhd` (第 3-12 行)

#### 設計邏輯
- **功能：** 計算兩個一位元輸入加上進位輸入的總和
- **輸入：**
  - `a, b` : 兩個一位元加數
  - `c_in` : 進位輸入
- **輸出：**
  - `sum` : 加法結果（不含進位）
  - `c_out` : 進位輸出

#### 邏輯實作
```vhdl
c_out <= ((a xor b) and c_in) or (a and b);
sum <= (a xor b) xor c_in;
```

**邏輯分析：**
- **總和計算：** 使用雙重 XOR 運算，先計算 `a xor b`，再與 `c_in` 進行 XOR
- **進位計算：** 當 `a` 和 `b` 都為 1 時產生進位，或當 `a xor b` 為 1 且 `c_in` 為 1 時產生進位

### 2. FA_3bit（三位元全加器）

**檔案位置：** `FA_3bit.vhd` (第 18-41 行)

#### 設計邏輯
- **功能：** 執行兩個三位元數值的加法運算
- **輸入：**
  - `A, B` : 兩個 3-bit 輸入向量 (2 downto 0)
- **輸出：**
  - `LED` : 4-bit 輸出向量 (3 downto 0)，包含 3-bit 結果與最高位進位

#### 架構實作
```vhdl
adders:
for i in 1 to 3 generate
    adder:FA port map(A1(i),B1(i),c(i-1),c(i),sum(i));
end generate adders;
```

**設計特色：**
- **元件重用：** 使用三個 FA 一位元全加器實例
- **連鎖進位：** 採用漣波進位（Ripple Carry）架構，前一級的進位輸出連接到下一級的進位輸入
- **Generate 迴圈：** 使用 VHDL generate 語句簡化重複元件的實例化

---

## 其他檔案說明

### FA_1bit.vhd
- **實作方式：** 使用半加器（Half Adder）組合實現的一位元全加器
- **適用場合：** 學習數位邏輯基礎構建原理

### FA_4bit.vhd  
- **實作方式：** 使用 IEEE 標準函式庫的算術運算
- **特點：** 簡潔的高層次描述，適合快速原型開發

---

## 應用建議

### 🔬 FPGA 驗證
- **時序分析：** 測量漣波進位延遲
- **資源使用：** 比較不同實作方式的 LUT 消耗
- **功能驗證：** 建立完整的測試向量進行功能測試

### 📚 教學練習
- **基礎概念：** 理解加法器的基本運作原理
- **進階學習：** 
  - 比較漣波進位與超前進位加法器
  - 學習 VHDL 結構化設計方法
  - 練習元件例項化與信號連接

### ⚡ 擴充多位元加法
- **8-bit/16-bit 加法器：** 修改 generate 迴圈範圍
- **超前進位加法器：** 實作更快速的進位產生邏輯
- **減法器設計：** 結合補數運算實現減法功能

### 🔗 與其他模組整合
- **ALU 設計：** 作為算術邏輯單元的核心組件
- **計數器電路：** 用於實作同步/非同步計數器
- **數值處理：** 整合至 DSP 運算管線中
- **BCD 運算：** 配合 BCD 修正邏輯實現十進位運算

---

## 設計注意事項

### ⚠️ 時序考量
- **傳播延遲：** 漣波進位會造成較長的組合延遲
- **建議：** 關鍵路徑應用可考慮管線化設計

### 🎯 最佳化建議
- **面積最佳化：** 使用 FA_3bit.vhd 的結構化設計
- **速度最佳化：** 考慮採用超前進位或並列前綴加法器
- **功耗最佳化：** 評估閘控時脈的使用可能性

### 📋 測試建議
- **邊界測試：** 測試全 0、全 1 及邊界數值
- **進位測試：** 重點測試進位產生與傳播
- **隨機測試：** 使用隨機向量進行大量功能驗證

---

> **提示：** 本模組設計遵循結構化 VHDL 設計原則，便於理解、修改與擴展。建議搭配波形模擬工具進行深入學習。